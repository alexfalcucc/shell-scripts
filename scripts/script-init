#!/bin/bash

function shell {
  chsh -s /bin/bash
}

function hidden_files {
  defaults write com.apple.finder AppleShowAllFiles YES
  killall Finder
}

function screenshots {
  defaults write com.apple.screencapture location ~/Downloads
  killall SystemUIServer
}

function homebrew_packages {
  /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
  for package in $1; do
    brew install $package
  done
  heroku login
}

function graphical_apps {
  for app in $1; do
    brew cask install $app
  done
}

function fonts {
  brew tap caskroom/fonts
  for font in $1; do
    brew cask install $font
  done
}

function npm_packages {
  for package in $1; do
    npm install -g $package
  done
  n latest
  npm login
}

function ruby_packages {
  for package in $1; do
    gem install $package
  done
  travis login
}

function symlink_dotfiles {
  for file in $(find "$HOME/drive/settings/dotfiles" -depth 1 -exec basename {} \;); do
    ln -s "$HOME/drive/settings/dotfiles/$file" "$HOME/$file"
  done
}

function vim_plugins {
  git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
  vim +PluginInstall +qall
}

shell
hidden_files
screenshots
homebrew_packages "bash git heroku n node shellcheck tmux vim"
graphical_apps "1password anki dash google-chrome google-drive google-photos-backup hyperterm karabiner screenflow seil sketch slack slate spotify switchresx flux rescuetime"
fonts "font-fira-mono font-quicksand"
npm_packages "create-react-app csslint eslint eslint-plugin-react jsonlint"
ruby_packages "travis"
symlink_dotfiles
vim_plugins
